<%- include("partials/header"); -%>

<input
	class="searchArea"
	onkeyup="sendData(this)"
	type="text"
	name=""
	id="search-box"
	placeholder="Search..."
	autofocus
/>
<section id="searchResults"></section>

<h1 id="blogh1">Browse all Articles</h1>

<% if(page == 1) { %>
<p>Read what you like.</p>

<% } %> <% posts.forEach(function(post){ %>
<div class="trail">
	<a href="/posts/<%=post._id%>">
		<img id="blogimg" src="<%=post.img%>" alt="<%=post.title%>" />
		<h2><%=post.title%></h2>
	</a>

	<p>
		<%=post.content.substring(0, 440) + " ..."%>
		<a class="styleAnchor" href="/posts/<%=post._id%>">Read More</a>
	</p>
</div>
<% }) %> <% ports.forEach(function(port){ %>
<div class="trail">
	<a href="/port/<%=port._id%>">
		<img id="blogimg" src="<%=port.imgSrc%>" alt="<%=port.title%>" />
		<h2><%=port.title%></h2>
	</a>

	<p>
		<%=port.topContent.substring(0, 440) + " ..."%>
		<a class="styleAnchor" href="/port/<%=port._id%>">Read More</a>
	</p>
</div>
<% }) %>

<div class="pagination">
	<!-- . -->
	<% if(page > 1) { %>
	<a class="pageItem" href="/blogs?page=1">1</a>
	<a class="pageItem" href="/blogs?page=<%=page-1%>">⫷</a>

	<% } %>
	<!-- . -->
	<% for(let i = iterator; i <= numberOfPages; i++) { %>
	<!-- . -->
	<% if(i === page) { %>
	<a class="pageItem" id="selectedLink" href="/blogs?page=<%=i%>"><%=i%></a>
	<% continue; %>
	<!-- . -->
	<% } %>
	<!-- . -->

	<% } %>
	<!-- . -->
	<% if(page < numberOfPages) { %>

	<a class="pageItem" href="/blogs?page=<%=page+1%>">⫸</a>
	<a class="pageItem" href="/blogs?page=<%=numberOfPages%>"
		><%=numberOfPages%></a
	>
	<% } %>
</div>

<script src="script.js"></script>
<!-- ⇒⇨►▶▶▷▷⋙⫸  ⇦⇦◄◄◁◁◀◀⋘⩤⫷ -->
<%- include("partials/footer"); -%>
